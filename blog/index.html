---
layout: default
title: Blog
---

<section class="blog-intro mt-20">
  <h1 class="blog-heading">Thinking in public.</h1>
</section>

{% assign curated_tags = site.data.tags | default: empty %}
{% if curated_tags.size > 0 %}
<section class="blog-topics" aria-label="Blog topics">
  <div class="blog-topics__list">
    {% for tag in curated_tags %}
      {% assign tag_posts = site.tags[tag.name] %}
      {% if tag_posts %}
        {% assign tag_count = tag_posts | size %}
      {% else %}
        {% assign tag_count = 0 %}
      {% endif %}
      {% assign tag_classes = 'topic-chip' %}
      {% if tag_count == 0 %}
        {% assign tag_classes = tag_classes | append: ' topic-chip--inactive' %}
      {% endif %}
      <a class="{{ tag_classes }}" href="{{ site.baseurl }}/tags/{{ tag.slug }}/">
        <span>{{ tag.name }}</span>
        <span class="topic-chip__count">{{ tag_count }}</span>
      </a>
    {% endfor %}
  </div>
</section>

{% assign defined_tag_names = curated_tags | map: 'name' %}
{% assign rogue_tags = '' | split: ',' %}
{% for tag_pair in site.tags %}
  {% unless defined_tag_names contains tag_pair[0] %}
    {% assign rogue_tags = rogue_tags | push: tag_pair[0] %}
  {% endunless %}
{% endfor %}
{% if rogue_tags.size > 0 %}
<div class="tag-warning" role="note">
  <strong>Heads up:</strong> Unknown tags detected — {{ rogue_tags | sort | join: ', ' }}. Update `_data/tags.yml` or adjust post front matter.
</div>
{% endif %}
{% endif %}

{% assign date_format = site.minima.date_format | default: "%B %-d, %Y" %}
{% if paginator and paginator.posts.size > 0 %}
<section class="blog-feed" aria-label="Blog posts">
  {% for post in paginator.posts %}
  <a class="blog-card blog-post-item" href="{{ post.url | relative_url }}" data-node-id="{{ forloop.index0 }}">
      <div class="blog-card__heading">
        <h2 class="blog-title">{{ post.title | escape }}</h2>
        <p class="blog-meta">{{ post.date | date: date_format }}</p>
      </div>
      {% if post.tags.size > 0 %}
      <div class="post-tags blog-tags">
        {% for tag in post.tags %}
          <span class="post-tag">{{ tag }}</span>
        {% endfor %}
      </div>
      {% endif %}
      <span class="blog-arrow" aria-hidden="true">→</span>
  </a>
  {% endfor %}
</section>
{% if paginator.total_pages > 1 %}
<nav class="blog-pagination" aria-label="Pagination">
  {% if paginator.previous_page %}
    <a class="pagination-btn" href="{{ paginator.previous_page_path | relative_url }}">← Newer posts</a>
  {% else %}
    <span class="pagination-btn disabled">← Newer posts</span>
  {% endif %}
  <span class="pagination-status">Page {{ paginator.page }} of {{ paginator.total_pages }}</span>
  {% if paginator.next_page %}
    <a class="pagination-btn" href="{{ paginator.next_page_path | relative_url }}">Older posts →</a>
  {% else %}
    <span class="pagination-btn disabled">Older posts →</span>
  {% endif %}
</nav>
{% endif %}
{% elsif site.posts.size > 0 %}
<section class="blog-feed" aria-label="Blog posts">
  {% for post in site.posts %}
  <a class="blog-card blog-post-item" href="{{ post.url | relative_url }}" data-node-id="{{ forloop.index0 }}">
      <div class="blog-card__heading">
        <h2 class="blog-title">{{ post.title | escape }}</h2>
        <p class="blog-meta">{{ post.date | date: date_format }}</p>
      </div>
      {% if post.tags.size > 0 %}
      <div class="post-tags blog-tags">
        {% for tag in post.tags %}
          <span class="post-tag">{{ tag }}</span>
        {% endfor %}
      </div>
      {% endif %}
      <span class="blog-arrow" aria-hidden="true">→</span>
  </a>
  {% endfor %}
</section>
{% else %}
<p class="empty-feed">No posts yet — check back soon.</p>
{% endif %}
